{% extends "activity_virtual_patient/virtual_patient_base.html" %}

{% block title %}Virtual Patient {{ patient.display_order }}: Classify Treatment Options{% endblock %}

{% block extrajs %}
   {{ block.super }}
   <script type="text/javascript" src="/activity/virtualpatient/media/js/options.js"></script>
{% endblock %}

{% block content %}
    {{ block.super }} 
    
    <a class="reset_button" href="{% url 'reset' patient.id %}" onclick="clearState(); return false;">Reset&nbsp;Exercise</a>
    <h2>Virtual Patient {{ patient.display_order }}: Classify Treatment Options</h2>
    <h5>Step 1: Based on the patient history below, classify all eight available treatments by dragging them to selected boxes.<br />
        Choose at least one to be your Best Treatment Choice.</h5> 
      
    <div id="patient">
        <div id="about_patient">
            <h6>Patient History</h6>
            <img src="/activity/virtualpatient/media/images/patient_{{patient.id}}.jpg" />
            <div id="patient_description">                
                <h3>{{patient.name}}</h3>
                <h4>{% autoescape off %}{{ patient.description }}{% endautoescape %} </h4> 
            </div>
            <div class="visualclear"></div>        
            <div id="patient_history">
                {% autoescape off %}{{patient.history}}{% endautoescape %}
            </div>
        </div>

    </div>
 
      <input type="hidden" id="patient_id" name="patient_id" value="{{patient.id}}"></input>
      <input type="hidden" id="page_id" name="page_id" value="{{page_id}}"></input>
    </div>
    <div id="available_treatments_box">
		<br /><h4>Treatments To Classify: <span id="treatments_to_classify">{{patient_state.available_treatments|length}}</span></h4>   
		 
	    <span id="available_treatments" class="treatment_droppable">
	    
	      {% for tag in patient_state.available_treatments %}
	         <span id='{{tag}}' class='{{tag}} treatment_draggable'>
	            <img src='/activity/virtualpatient/media/images/{{tag}}.jpg'>
	         </span>
	      {% endfor %}
	    </span>
    </div>
	<br /> <h4>Your Treatment Classifications</h4> 
    <div id="treatment_types">
  
	    <div class="treatment_type_box">
	       <center>
	       <h5>Best Treatment Choice(s)</h5>
	       <div id="best_treatment" class="treatment_type treatment_droppable best">
		       {% for tag in patient_state.best_treatment %}
				    <span  id="{{tag}}" class="{{tag}} treatment_draggable">
			           <img src="/activity/virtualpatient/media/images/{{tag}}.jpg">
			       </span>
		       {% endfor %}
		    </div>
		    </center>
	    </div>
	    <div class="treatment_type_box">
	       <center>
	           <h5>Reasonable, Not Optimal</h5>
	          <div id="reasonable_treatment" class="treatment_type treatment_droppable reasonable">
	          {% for tag in patient_state.reasonable_treatment %}
                <span  id="{{tag}}" class="{{tag}} treatment_draggable">
                    <img src="/activity/virtualpatient/media/images/{{tag}}.jpg">
                </span>
             {% endfor %}
	          </div>
	       </center>
	    </div>
	    <div class="treatment_type_box ">
	       <center>
	           <h5>Unlikely To Be Effective</h5>
		       <div id="ineffective_treatment" class="treatment_type treatment_droppable ineffective">
		       {% for tag in patient_state.ineffective_treatment %}
                <span  id="{{tag}}" class="{{tag}} treatment_draggable">
                    <img src="/activity/virtualpatient/media/images/{{tag}}.jpg">
                </span>
             {% endfor %}
		       </div>
	       </center>
	    </div>
	    <div class="treatment_type_box ">
	       <center>
	           <h5>Potentially Harmful</h5>
	          <div id="harmful_treatment" class="treatment_type treatment_droppable harmful">
	          {% for tag in patient_state.harmful_treatment %}
                <span  id="{{tag}}" class="{{tag}} treatment_draggable">
                    <img src="/activity/virtualpatient/media/images/{{tag}}.jpg">
                </span>
             {% endfor %}
	          </div>
	       </center>
	    </div>
	 </div>
{% endblock %}



